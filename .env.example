# LabLink Docker Configuration
# Copy this file to .env and customize for your deployment

# =============================================================================
# VERSION
# =============================================================================
LABLINK_VERSION=latest

# =============================================================================
# PORTS
# =============================================================================
# Server ports
LABLINK_API_PORT=8000
LABLINK_WS_PORT=8001

# Web dashboard ports
LABLINK_WEB_PORT=80
LABLINK_WEB_SSL_PORT=443

# Optional services
GRAFANA_PORT=3000

# =============================================================================
# SECURITY
# =============================================================================
# Enable advanced security system (JWT auth, RBAC, API keys, audit logging)
# IMPORTANT: This should be enabled for production deployments
LABLINK_ENABLE_ADVANCED_SECURITY=true

# IMPORTANT: Generate a strong secret key for production!
# Generate with: openssl rand -hex 32
LABLINK_JWT_SECRET_KEY=your-secret-key-change-this-in-production

# Token expiration (minutes)
LABLINK_JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS settings
LABLINK_ENABLE_CORS=true

# Default Admin Account (created on first startup)
# Set to false to disable automatic admin account creation
LABLINK_CREATE_DEFAULT_ADMIN=true
LABLINK_DEFAULT_ADMIN_USERNAME=admin
LABLINK_DEFAULT_ADMIN_PASSWORD=LabLink@2025
LABLINK_DEFAULT_ADMIN_EMAIL=admin@lablink.local

# =============================================================================
# OAUTH2 PROVIDERS (Optional)
# =============================================================================
# Google OAuth2
LABLINK_OAUTH_GOOGLE_CLIENT_ID=
LABLINK_OAUTH_GOOGLE_CLIENT_SECRET=

# GitHub OAuth2
LABLINK_OAUTH_GITHUB_CLIENT_ID=
LABLINK_OAUTH_GITHUB_CLIENT_SECRET=

# Microsoft OAuth2
LABLINK_OAUTH_MICROSOFT_CLIENT_ID=
LABLINK_OAUTH_MICROSOFT_CLIENT_SECRET=

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Debug mode (set to false in production)
LABLINK_DEBUG=false

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LABLINK_LOG_LEVEL=INFO

# Equipment VISA backend (@py for pure Python, @ni for NI-VISA)
LABLINK_VISA_BACKEND=@py

# Privileged mode (required for USB device access)
LABLINK_PRIVILEGED=true

# Resource limits
LABLINK_CPU_LIMIT=2
LABLINK_MEM_LIMIT=1G

# =============================================================================
# POSTGRESQL (Optional - only if using postgres profile)
# =============================================================================
POSTGRES_DB=lablink
POSTGRES_USER=lablink
# IMPORTANT: Change this password in production!
POSTGRES_PASSWORD=changeme

# =============================================================================
# GRAFANA (Optional - only if using monitoring profile)
# =============================================================================
GRAFANA_ADMIN_USER=admin
# IMPORTANT: Change this password in production!
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3000

# =============================================================================
# DOCKER COMPOSE PROFILES
# =============================================================================
# Available profiles:
# - default: Server + Web dashboard only (recommended for most users)
# - caching: Add Redis for caching and rate limiting
# - postgres: Use PostgreSQL instead of SQLite
# - monitoring: Add Grafana + Prometheus for monitoring
# - full: All services (server, web, redis, postgres, grafana, prometheus)
#
# Enable profiles with: docker compose --profile full up
# Or set: COMPOSE_PROFILES=full,monitoring
COMPOSE_PROFILES=

# =============================================================================
# TIMEZONE
# =============================================================================
TZ=UTC
